<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css">

    <title>To-Read</title>
</head>
<body>
    <header></header>

    <!-- Navs -->
    <div class="nav-wrapper">
        <nav class="main-nav">
            <div class="nav-item"><a href="toReadPage.html">To-Read</a></div>
            <div class="nav-item"><a href="completedPage.html">Completed</a></div>
            <div class="nav-item"><a href="addComicPage.html">Add a Comic</a></div>
            <div class="nav-item"><a href="homepage.html">Home</a></div>
        </nav>
    </div>

    
    <main>
        <div class="table-container">
        <table border="1">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Volume</th>
                    <th>Author</th>
                    <th>Info</th>
                    <th>Mark Complete</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                
                    <td colspan="6" style="text-align: center;">
                        <button><a href="addComicPage.html">Add a Comic</a></button>
                    </td>
                </tr>
            </tbody>
        </table>
        </div>


    </main>

    <!-- Script to populate the to-read table dynamically -->
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // get data from the backend
            const toReadData = await window.electronAPI.getToReadData();
      
            // Get the table body
            const tableBody = document.querySelector('table tbody');
      
      
            // Populate the table with data
            toReadData.forEach(comic => {
                const row = tableBody.insertRow();
      
                // Create cells for Name, Volume, Author
                const nameCell = row.insertCell(0);
                const volumeCell = row.insertCell(1);
                const authorCell = row.insertCell(2);
      
                // Name = Comic Name + Issue Number
                nameCell.textContent = `${comic.comicName} #${comic.issueNumber}`;
                volumeCell.textContent = comic.volumeNumber;
                authorCell.textContent = comic.author;
      
                // Add buttons for Info, Mark Complete, and Delete
                const infoCell = row.insertCell(3);
                const completeCell = row.insertCell(4);
                const deleteCell = row.insertCell(5);
      
                infoCell.innerHTML = '<button>Info</button>';
                completeCell.innerHTML = '<button>Mark Complete</button>';
                deleteCell.innerHTML = '<button>Delete</button>';
            });
        });
      </script>
</body>
</html>